<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2685.1">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html lang="en"&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1">&lt;meta charset="UTF-8" /&gt;</p>
<p class="p1">&lt;meta name="viewport" content="width=device-width, initial-scale=1" /&gt;</p>
<p class="p1">&lt;title&gt;Habit Accountability Tracker - Suraj &amp; Sumit&lt;/title&gt;</p>
<p class="p1">&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>body { font-family: Arial, sans-serif; margin: 20px; background: #f4f7fc; color: #333; }</p>
<p class="p1"><span class="Apple-converted-space">  </span>header { text-align: center; margin-bottom: 20px; }</p>
<p class="p1"><span class="Apple-converted-space">  </span>h1 { color: #2c3e50; }</p>
<p class="p1"><span class="Apple-converted-space">  </span>.user-toggle { margin-bottom: 20px; text-align: center; }</p>
<p class="p1"><span class="Apple-converted-space">  </span>button { padding: 10px 20px; margin: 0 10px; border: none; background-color: #0077cc; color: white; cursor: pointer; border-radius: 4px; }</p>
<p class="p1"><span class="Apple-converted-space">  </span>button.active { background-color: #005fa3; }</p>
<p class="p1"><span class="Apple-converted-space">  </span>.tracker-form { background: white; padding: 20px; border-radius: 8px; max-width: 600px; margin: 0 auto 30px auto; box-shadow: 0 2px 6px rgba(0,0,0,0.1);}</p>
<p class="p1"><span class="Apple-converted-space">  </span>label { display: block; margin: 8px 0 4px; font-weight: bold; }</p>
<p class="p1"><span class="Apple-converted-space">  </span>input[type=number] { width: 100%; padding: 8px; border: 1px solid #cbd5e0; border-radius: 4px; }</p>
<p class="p1"><span class="Apple-converted-space">  </span>.progress-bar { height: 16px; background: #eee; border-radius: 8px; overflow: hidden; margin-top: 4px; }</p>
<p class="p1"><span class="Apple-converted-space">  </span>.progress-fill { height: 100%; background: #2ecc71; width: 0%; transition: width 0.4s ease; }</p>
<p class="p1"><span class="Apple-converted-space">  </span>.progress-label { text-align: right; font-size: 0.8em; color: #555; }</p>
<p class="p1"><span class="Apple-converted-space">  </span>.status { text-align: center; font-weight: bold; margin-bottom: 10px; }</p>
<p class="p1"><span class="Apple-converted-space">  </span>#charts-container { max-width: 800px; margin: 0 auto; }</p>
<p class="p1"><span class="Apple-converted-space">  </span>canvas { background: white; border-radius: 8px; margin-bottom: 30px; }</p>
<p class="p1"><span class="Apple-converted-space">  </span>table { width: 90%; margin: 20px auto; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; }</p>
<p class="p1"><span class="Apple-converted-space">  </span>th, td { padding: 12px; border-bottom: 1px solid #ddd; text-align: center; }</p>
<p class="p1"><span class="Apple-converted-space">  </span>th { background: #3498db; color: white; }</p>
<p class="p1"><span class="Apple-converted-space">  </span>@media (max-width: 650px) {</p>
<p class="p1"><span class="Apple-converted-space">    </span>.tracker-form, #charts-container, table { width: 100%; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>button { margin: 10px 4px; width: 40%; }</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p1">&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;header&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;h1&gt;Habit Accountability Tracker&lt;/h1&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;p&gt;For Suraj &amp; Sumit&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;div class="user-toggle"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;button id="user-suraj" class="active"&gt;Suraj&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;button id="user-sumit"&gt;Sumit&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/div&gt;</p>
<p class="p1">&lt;/header&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;div class="tracker-form"&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;div class="status" id="status-msg"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;form id="habit-form"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;label for="screentime"&gt;Screen Time (hours, less is better)&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;input type="number" id="screentime" min="0" step="0.1" /&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;label for="studying"&gt;Studying (hours)&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;input type="number" id="studying" min="0" step="0.1" /&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;label for="reading"&gt;Reading (minutes)&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;input type="number" id="reading" min="0" step="1" /&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;label for="fitness"&gt;Fitness (minutes)&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;input type="number" id="fitness" min="0" step="1" /&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;button type="submit"&gt;Save Today's Progress&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/form&gt;</p>
<p class="p1">&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;div id="progress-bars" style="max-width: 600px; margin: 0 auto 40px auto;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;h3&gt;Today's Progress for &lt;span id="current-user-name"&gt;Suraj&lt;/span&gt;&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;label&gt;Screen Time Progress (Goal ≤ 4 hours)&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="progress-bar"&gt;&lt;div id="progress-screentime" class="progress-fill"&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="progress-label" id="label-screentime"&gt;0%&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;label&gt;Studying Progress (Goal ≥ 1 hour)&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="progress-bar"&gt;&lt;div id="progress-studying" class="progress-fill"&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="progress-label" id="label-studying"&gt;0%&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;label&gt;Reading Progress (Goal ≥ 30 minutes)&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="progress-bar"&gt;&lt;div id="progress-reading" class="progress-fill"&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="progress-label" id="label-reading"&gt;0%&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;label&gt;Fitness Progress (Goal ≥ 30 minutes)&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="progress-bar"&gt;&lt;div id="progress-fitness" class="progress-fill"&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="progress-label" id="label-fitness"&gt;0%&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/div&gt;</p>
<p class="p1">&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;div id="charts-container"&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;canvas id="line-chart" height="200"&gt;&lt;/canvas&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;canvas id="bar-chart" height="200"&gt;&lt;/canvas&gt;</p>
<p class="p1">&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;table id="weekly-summary"&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;thead&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;th&gt;Date&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;th&gt;User&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;th&gt;Screen Time (h)&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;th&gt;Studying (h)&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;th&gt;Reading (min)&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;th&gt;Fitness (min)&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/thead&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;tbody&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!-- Filled dynamically --&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/tbody&gt;</p>
<p class="p1">&lt;/table&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;script src="https://cdn.jsdelivr.net/npm/chart.js"&gt;&lt;/script&gt;</p>
<p class="p1">&lt;script&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>const userNames = ['Suraj', 'Sumit'];</p>
<p class="p1"><span class="Apple-converted-space">  </span>const goals = {</p>
<p class="p1"><span class="Apple-converted-space">    </span>screentime_max: 4,</p>
<p class="p1"><span class="Apple-converted-space">    </span>studying_min: 1,</p>
<p class="p1"><span class="Apple-converted-space">    </span>reading_min: 30,</p>
<p class="p1"><span class="Apple-converted-space">    </span>fitness_min: 30</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p1"><span class="Apple-converted-space">  </span>let selectedUser = 'Suraj';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>// Data structure: store entries by date and user</p>
<p class="p1"><span class="Apple-converted-space">  </span>// Example entry: {date: '2025-11-17', user: 'Suraj', screentime: 3.5, studying: 1.5, reading: 40, fitness: 30}</p>
<p class="p1"><span class="Apple-converted-space">  </span>let habitData = [];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>// Helper to format date as YYYY-MM-DD</p>
<p class="p1"><span class="Apple-converted-space">  </span>function formatDate(date) {</p>
<p class="p1"><span class="Apple-converted-space">    </span>return date.toISOString().split('T')[0];</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>// Load today's data for the selected user and update UI</p>
<p class="p1"><span class="Apple-converted-space">  </span>function loadTodayData() {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const today = formatDate(new Date());</p>
<p class="p1"><span class="Apple-converted-space">    </span>const entry = habitData.find(e =&gt; e.date === today &amp;&amp; e.user === selectedUser);</p>
<p class="p1"><span class="Apple-converted-space">    </span>document.getElementById('screentime').value = entry ? entry.screentime : '';</p>
<p class="p1"><span class="Apple-converted-space">    </span>document.getElementById('studying').value = entry ? entry.studying : '';</p>
<p class="p1"><span class="Apple-converted-space">    </span>document.getElementById('reading').value = entry ? entry.reading : '';</p>
<p class="p1"><span class="Apple-converted-space">    </span>document.getElementById('fitness').value = entry ? entry.fitness : '';</p>
<p class="p1"><span class="Apple-converted-space">    </span>updateProgressBars();</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>// Calculate progress percentages for today for the selected user</p>
<p class="p1"><span class="Apple-converted-space">  </span>function calculateProgress(entry) {</p>
<p class="p1"><span class="Apple-converted-space">    </span>if(!entry) return { screentime: 0, studying: 0, reading: 0, fitness: 0 };</p>
<p class="p1"><span class="Apple-converted-space">    </span>return {</p>
<p class="p1"><span class="Apple-converted-space">      </span>screentime: Math.min(1, goals.screentime_max / entry.screentime || 0),</p>
<p class="p1"><span class="Apple-converted-space">      </span>studying: Math.min(1, (entry.studying || 0) / goals.studying_min),</p>
<p class="p1"><span class="Apple-converted-space">      </span>reading: Math.min(1, (entry.reading || 0) / goals.reading_min),</p>
<p class="p1"><span class="Apple-converted-space">      </span>fitness: Math.min(1, (entry.fitness || 0) / goals.fitness_min)</p>
<p class="p1"><span class="Apple-converted-space">    </span>};</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>// Update progress bars and labels</p>
<p class="p1"><span class="Apple-converted-space">  </span>function updateProgressBars() {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const today = formatDate(new Date());</p>
<p class="p1"><span class="Apple-converted-space">    </span>const entry = habitData.find(e =&gt; e.date === today &amp;&amp; e.user === selectedUser);</p>
<p class="p1"><span class="Apple-converted-space">    </span>const prog = calculateProgress(entry);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>function updateBar(idBase, value) {</p>
<p class="p1"><span class="Apple-converted-space">      </span>const fill = document.getElementById('progress-' + idBase);</p>
<p class="p1"><span class="Apple-converted-space">      </span>const label = document.getElementById('label-' + idBase);</p>
<p class="p1"><span class="Apple-converted-space">      </span>const percentage = Math.round(value * 100);</p>
<p class="p1"><span class="Apple-converted-space">      </span>fill.style.width = percentage + '%';</p>
<p class="p1"><span class="Apple-converted-space">      </span>label.textContent = percentage + '%';</p>
<p class="p1"><span class="Apple-converted-space">      </span>// Special coloring criteria</p>
<p class="p1"><span class="Apple-converted-space">      </span>if(idBase === 'screentime') {</p>
<p class="p1"><span class="Apple-converted-space">        </span>fill.style.backgroundColor = (percentage === 100) ? '#2ecc71' : '#e74c3c';</p>
<p class="p1"><span class="Apple-converted-space">      </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">        </span>fill.style.backgroundColor = (percentage === 100) ? '#2ecc71' : '#3498db';</p>
<p class="p1"><span class="Apple-converted-space">      </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>updateBar('screentime', prog.screentime);</p>
<p class="p1"><span class="Apple-converted-space">    </span>updateBar('studying', prog.studying);</p>
<p class="p1"><span class="Apple-converted-space">    </span>updateBar('reading', prog.reading);</p>
<p class="p1"><span class="Apple-converted-space">    </span>updateBar('fitness', prog.fitness);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>document.getElementById('current-user-name').textContent = selectedUser;</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>// Update weekly summary table</p>
<p class="p1"><span class="Apple-converted-space">  </span>function updateWeeklySummary() {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const tbody = document.querySelector('#weekly-summary tbody');</p>
<p class="p1"><span class="Apple-converted-space">    </span>tbody.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">    </span>const today = new Date();</p>
<p class="p1"><span class="Apple-converted-space">    </span>const weekAgo = new Date(today);</p>
<p class="p1"><span class="Apple-converted-space">    </span>weekAgo.setDate(today.getDate() - 6);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// Filter data for last 7 days</p>
<p class="p1"><span class="Apple-converted-space">    </span>const recentData = habitData.filter(entry =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">      </span>const entryDate = new Date(entry.date);</p>
<p class="p1"><span class="Apple-converted-space">      </span>return entryDate &gt;= weekAgo &amp;&amp; entryDate &lt;= today;</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p1"><span class="Apple-converted-space">    </span>// Sort by date ascending</p>
<p class="p1"><span class="Apple-converted-space">    </span>recentData.sort((a,b) =&gt; new Date(a.date) - new Date(b.date));</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>recentData.forEach(entry =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">      </span>const tr = document.createElement('tr');</p>
<p class="p1"><span class="Apple-converted-space">      </span>tr.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;td&gt;${entry.date}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;td&gt;${entry.user}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;td&gt;${entry.screentime ?? '-'}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;td&gt;${entry.studying ?? '-'}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;td&gt;${entry.reading ?? '-'}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;td&gt;${entry.fitness ?? '-'}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>`;</p>
<p class="p1"><span class="Apple-converted-space">      </span>tbody.appendChild(tr);</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>// Update charts (line and bar)</p>
<p class="p1"><span class="Apple-converted-space">  </span>let lineChart, barChart;</p>
<p class="p1"><span class="Apple-converted-space">  </span>function updateCharts() {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const ctxLine = document.getElementById('line-chart').getContext('2d');</p>
<p class="p1"><span class="Apple-converted-space">    </span>const ctxBar = document.getElementById('bar-chart').getContext('2d');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>const today = new Date();</p>
<p class="p1"><span class="Apple-converted-space">    </span>const weekAgo = new Date(today);</p>
<p class="p1"><span class="Apple-converted-space">    </span>weekAgo.setDate(today.getDate() - 6);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// Dates array for the last 7 days</p>
<p class="p1"><span class="Apple-converted-space">    </span>const dateLabels = [];</p>
<p class="p1"><span class="Apple-converted-space">    </span>for(let d = new Date(weekAgo); d &lt;= today; d.setDate(d.getDate()+1)) {</p>
<p class="p1"><span class="Apple-converted-space">      </span>dateLabels.push(formatDate(new Date(d)));</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// Prepare datasets for line chart for each habit and each user</p>
<p class="p1"><span class="Apple-converted-space">    </span>function getHabitDataForUser(habit, user) {</p>
<p class="p1"><span class="Apple-converted-space">      </span>return dateLabels.map(date =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">        </span>const entry = habitData.find(e =&gt; e.date === date &amp;&amp; e.user === user);</p>
<p class="p1"><span class="Apple-converted-space">        </span>return entry ? (entry[habit] || 0) : 0;</p>
<p class="p1"><span class="Apple-converted-space">      </span>});</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// Remove old charts if present</p>
<p class="p1"><span class="Apple-converted-space">    </span>if(lineChart) lineChart.destroy();</p>
<p class="p1"><span class="Apple-converted-space">    </span>if(barChart) barChart.destroy();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// Line chart for daily habit data</p>
<p class="p1"><span class="Apple-converted-space">    </span>lineChart = new Chart(ctxLine, {</p>
<p class="p1"><span class="Apple-converted-space">      </span>type: 'line',</p>
<p class="p1"><span class="Apple-converted-space">      </span>data: {</p>
<p class="p1"><span class="Apple-converted-space">        </span>labels: dateLabels,</p>
<p class="p1"><span class="Apple-converted-space">        </span>datasets: [</p>
<p class="p1"><span class="Apple-converted-space">          </span>{ label: 'Suraj Screentime', data: getHabitDataForUser('screentime', 'Suraj'), borderColor: 'rgba(231, 76, 60, 1)', fill: false, tension: 0.3},</p>
<p class="p1"><span class="Apple-converted-space">          </span>{ label: 'Sumit Screentime', data: getHabitDataForUser('screentime', 'Sumit'), borderColor: 'rgba(192, 57, 43, 0.7)', fill: false, borderDash: [5,5], tension: 0.3},</p>
<p class="p1"><span class="Apple-converted-space">          </span>{ label: 'Suraj Studying', data: getHabitDataForUser('studying', 'Suraj'), borderColor: 'rgba(52, 152, 219, 1)', fill: false, tension: 0.3},</p>
<p class="p1"><span class="Apple-converted-space">          </span>{ label: 'Sumit Studying', data: getHabitDataForUser('studying', 'Sumit'), borderColor: 'rgba(41, 128, 185, 0.7)', fill: false, borderDash: [5,5], tension: 0.3},</p>
<p class="p1"><span class="Apple-converted-space">          </span>{ label: 'Suraj Reading', data: getHabitDataForUser('reading', 'Suraj'), borderColor: 'rgba(46, 204, 113, 1)', fill: false, tension: 0.3},</p>
<p class="p1"><span class="Apple-converted-space">          </span>{ label: 'Sumit Reading', data: getHabitDataForUser('reading', 'Sumit'), borderColor: 'rgba(39, 174, 96, 0.7)', fill: false, borderDash: [5,5], tension: 0.3},</p>
<p class="p1"><span class="Apple-converted-space">          </span>{ label: 'Suraj Fitness', data: getHabitDataForUser('fitness', 'Suraj'), borderColor: 'rgba(155, 89, 182, 1)', fill: false, tension: 0.3},</p>
<p class="p1"><span class="Apple-converted-space">          </span>{ label: 'Sumit Fitness', data: getHabitDataForUser('fitness', 'Sumit'), borderColor: 'rgba(142, 68, 173, 0.7)', fill: false, borderDash: [5,5], tension: 0.3},</p>
<p class="p1"><span class="Apple-converted-space">        </span>],</p>
<p class="p1"><span class="Apple-converted-space">      </span>},</p>
<p class="p1"><span class="Apple-converted-space">      </span>options: {</p>
<p class="p1"><span class="Apple-converted-space">        </span>responsive: true,</p>
<p class="p1"><span class="Apple-converted-space">        </span>maintainAspectRatio: false,</p>
<p class="p1"><span class="Apple-converted-space">        </span>plugins: {</p>
<p class="p1"><span class="Apple-converted-space">          </span>tooltip: { mode: 'index', intersect: false }</p>
<p class="p1"><span class="Apple-converted-space">        </span>},</p>
<p class="p1"><span class="Apple-converted-space">        </span>interaction: {</p>
<p class="p1"><span class="Apple-converted-space">          </span>mode: 'nearest',</p>
<p class="p1"><span class="Apple-converted-space">          </span>axis: 'x',</p>
<p class="p1"><span class="Apple-converted-space">          </span>intersect: false</p>
<p class="p1"><span class="Apple-converted-space">        </span>},</p>
<p class="p1"><span class="Apple-converted-space">        </span>scales: {</p>
<p class="p1"><span class="Apple-converted-space">          </span>y: { beginAtZero: true },</p>
<p class="p1"><span class="Apple-converted-space">          </span>x: { title: { display: true, text: 'Date' } }</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">      </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// Bar chart showing weekly average</p>
<p class="p1"><span class="Apple-converted-space">    </span>function average(arr) {</p>
<p class="p1"><span class="Apple-converted-space">      </span>if(arr.length === 0) return 0;</p>
<p class="p1"><span class="Apple-converted-space">      </span>return arr.reduce((a,b) =&gt; a+b, 0)/arr.length;</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>const averages = userNames.map(user =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">      </span>return {</p>
<p class="p1"><span class="Apple-converted-space">        </span>user,</p>
<p class="p1"><span class="Apple-converted-space">        </span>screentime: average(getHabitDataForUser('screentime', user)),</p>
<p class="p1"><span class="Apple-converted-space">        </span>studying: average(getHabitDataForUser('studying', user)),</p>
<p class="p1"><span class="Apple-converted-space">        </span>reading: average(getHabitDataForUser('reading', user)),</p>
<p class="p1"><span class="Apple-converted-space">        </span>fitness: average(getHabitDataForUser('fitness', user))</p>
<p class="p1"><span class="Apple-converted-space">      </span>};</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>barChart = new Chart(ctxBar, {</p>
<p class="p1"><span class="Apple-converted-space">      </span>type: 'bar',</p>
<p class="p1"><span class="Apple-converted-space">      </span>data: {</p>
<p class="p1"><span class="Apple-converted-space">        </span>labels: ['Screen Time (h)', 'Studying (h)', 'Reading (min)', 'Fitness (min)'],</p>
<p class="p1"><span class="Apple-converted-space">        </span>datasets: [</p>
<p class="p1"><span class="Apple-converted-space">          </span>{</p>
<p class="p1"><span class="Apple-converted-space">            </span>label: 'Suraj',</p>
<p class="p1"><span class="Apple-converted-space">            </span>data: [averages[0].screentime, averages[0].studying, averages[0].reading, averages[0].fitness],</p>
<p class="p1"><span class="Apple-converted-space">            </span>backgroundColor: 'rgba(52, 152, 219, 0.7)'</p>
<p class="p1"><span class="Apple-converted-space">          </span>},</p>
<p class="p1"><span class="Apple-converted-space">          </span>{</p>
<p class="p1"><span class="Apple-converted-space">            </span>label: 'Sumit',</p>
<p class="p1"><span class="Apple-converted-space">            </span>data: [averages[1].screentime, averages[1].studying, averages[1].reading, averages[1].fitness],</p>
<p class="p1"><span class="Apple-converted-space">            </span>backgroundColor: 'rgba(41, 128, 185, 0.7)'</p>
<p class="p1"><span class="Apple-converted-space">          </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>]</p>
<p class="p1"><span class="Apple-converted-space">      </span>},</p>
<p class="p1"><span class="Apple-converted-space">      </span>options: {</p>
<p class="p1"><span class="Apple-converted-space">        </span>responsive: true,</p>
<p class="p1"><span class="Apple-converted-space">        </span>maintainAspectRatio: false,</p>
<p class="p1"><span class="Apple-converted-space">        </span>scales: {</p>
<p class="p1"><span class="Apple-converted-space">          </span>y: { beginAtZero: true }</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">      </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>// Save or update today's data for selected user</p>
<p class="p1"><span class="Apple-converted-space">  </span>function saveTodayData(data) {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const today = formatDate(new Date());</p>
<p class="p1"><span class="Apple-converted-space">    </span>const index = habitData.findIndex(e =&gt; e.date === today &amp;&amp; e.user === selectedUser);</p>
<p class="p1"><span class="Apple-converted-space">    </span>if(index &gt;= 0) {</p>
<p class="p1"><span class="Apple-converted-space">      </span>habitData[index] = { date: today, user: selectedUser, ...data };</p>
<p class="p1"><span class="Apple-converted-space">    </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">      </span>habitData.push({ date: today, user: selectedUser, ...data });</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>// Form submission handler</p>
<p class="p1"><span class="Apple-converted-space">  </span>document.getElementById('habit-form').addEventListener('submit', e =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>e.preventDefault();</p>
<p class="p1"><span class="Apple-converted-space">    </span>const data = {</p>
<p class="p1"><span class="Apple-converted-space">      </span>screentime: parseFloat(document.getElementById('screentime').value) || 0,</p>
<p class="p1"><span class="Apple-converted-space">      </span>studying: parseFloat(document.getElementById('studying').value) || 0,</p>
<p class="p1"><span class="Apple-converted-space">      </span>reading: parseFloat(document.getElementById('reading').value) || 0,</p>
<p class="p1"><span class="Apple-converted-space">      </span>fitness: parseFloat(document.getElementById('fitness').value) || 0</p>
<p class="p1"><span class="Apple-converted-space">    </span>};</p>
<p class="p1"><span class="Apple-converted-space">    </span>saveTodayData(data);</p>
<p class="p1"><span class="Apple-converted-space">    </span>updateProgressBars();</p>
<p class="p1"><span class="Apple-converted-space">    </span>updateWeeklySummary();</p>
<p class="p1"><span class="Apple-converted-space">    </span>updateCharts();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>const status = document.getElementById('status-msg');</p>
<p class="p1"><span class="Apple-converted-space">    </span>status.textContent = 'Progress saved for ' + selectedUser + ' on ' + formatDate(new Date());</p>
<p class="p1"><span class="Apple-converted-space">    </span>setTimeout(() =&gt; { status.textContent = ''; }, 3000);</p>
<p class="p1"><span class="Apple-converted-space">  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>// User toggle buttons</p>
<p class="p1"><span class="Apple-converted-space">  </span>document.getElementById('user-suraj').addEventListener('click', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>selectedUser = 'Suraj';</p>
<p class="p1"><span class="Apple-converted-space">    </span>document.getElementById('user-suraj').classList.add('active');</p>
<p class="p1"><span class="Apple-converted-space">    </span>document.getElementById('user-sumit').classList.remove('active');</p>
<p class="p1"><span class="Apple-converted-space">    </span>loadTodayData();</p>
<p class="p1"><span class="Apple-converted-space">  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>document.getElementById('user-sumit').addEventListener('click', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>selectedUser = 'Sumit';</p>
<p class="p1"><span class="Apple-converted-space">    </span>document.getElementById('user-sumit').classList.add('active');</p>
<p class="p1"><span class="Apple-converted-space">    </span>document.getElementById('user-suraj').classList.remove('active');</p>
<p class="p1"><span class="Apple-converted-space">    </span>loadTodayData();</p>
<p class="p1"><span class="Apple-converted-space">  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>// Initialize</p>
<p class="p1"><span class="Apple-converted-space">  </span>loadTodayData();</p>
<p class="p1"><span class="Apple-converted-space">  </span>updateWeeklySummary();</p>
<p class="p1"><span class="Apple-converted-space">  </span>updateCharts();</p>
<p class="p1">&lt;/script&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
